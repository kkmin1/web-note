{
  "id": "902887f5-54cd-4bd8-8704-918bd7f050cb",
  "title": "블랙-숄즈 모형(Black–Scholes model)의 한계, SABR 모형",
  "content": "[블랙-숄즈 모형]\n콜 옵션, 풋 옵션과 같은 상품이 블랙-숄즈 방정식에 근거해 가격 분석과 헤지가 가능해지면서 폭발적으로 거래량이 늘어났다. 블랙과 숄즈, 머튼이 옵션 상품을 만든 건 아니다. 옵션은 그전에도 있었다. 그전에는 가격에 대한 정밀한 분석 없이, 직관적인 모델에 의존해서 거래되고 있었다. 블랙, 숄즈, 머튼이 옵션 상품의 가격을 결정짓는 요인을 발견했고 그 요인을 수식에 집어넣어서 공식을 만들었다. 블랙-숄즈 방정식은 옵션 상품의 가격을 결정하는 공식이다. 그들이 방정식을 만들기 위해 사용한 굉장히 다양하고 새로운 아이디어가, 금융수학의 토대가 됐다. 가격의 변동성을 도입하고, 옵션은 주식과 현금의 비율을 적절히 조절해서 제조할 수 있다는 것이 이들의 핵심 아이디어였다.\n그러나 시간이 지나면서 시장이 달라지자, 블랙-숄즈 방정식은 잘 맞지 않게 되었다. 블랙과 숄즈는 어떻게 보면 매우 단순화된 공식이다. 블랙, 숄즈, 머튼은 금융수학을 혁신했으나, 시장이 진보하면서 그들이 만든 모델은 시대에 뒤처지게 되었다. \n금융위기가 올 때마다 금융시장의 성질은 크게 바뀐다. \n블랙-숄즈 방정식은 변동성이라는 값이 고정된 매개 변수를 이용해 주식에 대한 옵션을 만들었다. 예컨대 삼성전자 주식이 앞으로 1년간은 하루에 ±1%씩 움직인다는 고정값으로 봤다. 변동성을 변하지 않는 상수로 봤다. 실제로 시장에서 주식의 변동성은 시간에 따라 바뀐다. 이제 변동성 자체가 바뀌는 수학 모델이 필요하게 되었다. 블랙-숄즈모델보다 앞으로 나아가는 모델 중에 SABR모델(SABR volatility model)이 있다. 블랙-숄즈 모델보다 한 차원 더 나간 옵션 결정 모델이고, 업계에서 현재 많이 쓴다. SABR모델은 패트릭 헤이건(Patrick Hagan)이 2002년에 내놓았다. \n\n[변동성 스마일]\n블랙숄즈 모형은 몇 가지 가정이 들어가는데 다음과 같다.\n\n1) 무차익거래의 원칙\n2) 연속적인 시장 가정\n3) 거래비용과 세금 및 공매도에 제약이 없는 완전 시장\n4) 무위험 이자율은 일정\n5) 기초자산의 가격은 변동성이 일정한 GBM(Geometric Brownian Motion) Process를 따름\n\n가정이 현실과 맞지 않는 점이 다소 있다. 그중에서 변동성이 일정하다고 가정한 부분이 가장 뜨거운 이슈이다. 시장에서 거래되는 옵션의 변동성을 구하기 위해 옵션의 가격을 이용하여 역으로 변동성을 구하는데 이를 내재변동성(Implied Volatility)라고 한다. 내재변동성을 옵션의 행사가별로 구해보면 일정하지 않고 스마일 모양을 띄는데 이를 변동성 스마일(Volatility Smile)이라고 한다. 콜옵션과 풋옵션 모두 OTM 옵션의 거래가 활발하기 때문에 OTM 콜옵션과 OTM 풋옵션을 이용하여 구한다.\n수직축에 내재 변동성을 표시하고, 수평축에 행사 가격을 나타내는 그래프.\n\n행사가격이 다른 옵션들로 내재변동성을 계산해 보면 서로 다른 값들이 나온다. 또한 동일 행사가격이라도 기간을 달리하면 내재변동성이 달라진다. 이런 현상을 변동성 미소 (Volatility Smile or Skew) 현상과 변동성 기간구조 (Volatility Term Structure) 라고 한다.\n보통의 경우 등가격 부근에서는 변동성이 작게 계산되고, 깊은 내가격이나, 외가격으로 갈수록 변동성이 커진다. 그리고 풋옵션으로 계산한 변동성이 콜옵션으로 계산한 것 보다 크다.\n시장이 블랙숄즈 모형대로 움직여 준다면 어느 행사가격으로 내재변동성을 구해도 동일한 값이 나와야 한다. 그러나 실제는 그렇지 않다. 이것은 시장이 블랙숄즈를 따르지 않는다는 좋은 증거가 된다.\n이번에는, 행사가격을 고정시키고 시간이 증가함에 따라 내재변동성과 시간과의 관계를 그려보면, 보통의 경우 변동성이 낮은 상태에서는 시간이 지남에 따라 변동성이 높아진다. 반대로 변동성이 높은 상태에서는 시간이 지남에 따라 변동성이 낮아진다. 이것은 장기간으로 보면 시간에 따라 변동성이 일정해지려는 성질로, 일종의 평균회귀 (Mean Reverting) 현상으로 설명한다. 이러한 현상을 변동성의 기간구조 (Volatility Term Structure)라고 한다. 이전 포스트의 내재변동성 변화는 아주 짧은 시간 동안 관찰한 것이므로 변동성의 기간구조로 설명할 수는 없다.\n1. 기초자산의 주가는 블랙숄즈에서 가정한 것처럼 일정한 변동성을 가진 기하브라운운동 (GBM)을 따르지 않는다. 시장은 때때로 급등하거나, 급락하는 현상이 있고, 급등보다는 급락하는 현상이 더 많다. 이것을 주가의 Jump 현상이라고 하는데, GBM은 Jump 현상이 없는 일정한 모형이다.\n2. 기하브라운운동 (GBM)은 (로그)정규분포 모양이지만, 실제분포는 첨도가 높고, 분포의 꼬리가 두터운 모양을 가진다. Skewness and Kurtosis 트레이딩에서 내재변동성을 이용하여 시장의 확률분포 (IV-SPD)를 실제로 관찰해보면, 첨도가 높게 나타난다. 만약 실제분포의 꼬리 부분이 얇게 나타난다면, 변동성 미소의 반대 현상이 발생할 것이다. 즉, 내가격이나 외가격의 변동성이 작게 나타날 것이다.\n3. 시장이 하락하면 위험회피 투자자들로 인해 시장은 더 급락하게 되고, 변동성이 증가한다. 따라서 블랙숄즈 모형처럼 변동성을 일정하게 가정할 수 없다.\n4. 헤지 투자자들이 외가격대의 풋옵션을 이용하여 헤지를 하려는 경향이 있으므로, 풋옵션 외가격의 변동성이 더 높게 나타난다.\n5. 레버리지 효과로 설명이 가능하다 (아래 Reference 참조).\n\n\n\n\n[SABR 모형]\n옵션 가격을 계산하는 모형중에 제일 기본적인 것이 블랙-숄즈 모델이죠. 예를 들어 가격 K에 주식을 살 수 있는 콜옵션을 계산하기 위해 블랙-숄즈에는 현재 가격 S, 실행가 K, 주식 가격의 변동성 a, 옵션 유효 기간 등의 인풋이 들어가요. 그리고 여기서 변동성 a 는 상수죠. 이런 옵션 하나만 본다면 문제는 없습니다. 허나 은행이갖고 있는 옵션은 종류가 많고 (k 가 100원부터 1000원까지 다양하고, 옵션 유효기간도 다양하고, 현재가격 S도 그 때 그 때 달라지고요) 그럼 변동성 a를 옵션하고 one to one match로 관리하려면 힘들다. 시스템적으로 변동성을 계산/관리하기 위해 나온 것이 SABR 모델이에요. 즉 sabr 모델은 옵션하나당 새 방정식이 생기는 블랙숄즈를 대신하는 general 한 모델이다.\n\n① 블랙-숄즈 모델\ndF = a * F* dW. \n(이자율의 순간적인 변화는 현재이자율*변동성* stochastic value 변화와 같다)\n② Local volatility models\ndF = a(t,F) * F * dW. \n(변동성이 t와 F의 함수.즉 옵션실행까지 남은기간과 현재 이자율에 따라 달라지는 변수) \n③SABR model\ntwo factor model. stochastic variable 이 W1, W2 두개있어요.\ndF = a * F ^ (beta) * dW1.\n(beta가 1이면 노멀, 0이면 로그노멀 모델. 보통 일본은 로그노멀 모델써요) \nda = v * a * dW2.       \ndW1dW2 = rho * dt\n(two processes are correlated) \n로컬볼 모델과의 차이는 변동성 자체가 이제 스토케스틱 프로세스를 따라가는 변수라는 것. 그리고 beta, v, rho 라는 새로운 변수가 등장했지요. (얘들이 K가 어떻게 바뀌어도 그에 맞게 변동성을 바꿔주는 역할을해요)  \n이 모델을 돌리려면 beta, v, rho 변수를 정해야해요. beta는 보통 이자율시장을 보고 0에서 1 사이로 정하고 그 다음에 시장에서 관찰되는 옵션가격들로부터 파생되는 변동성에 fitting 되게 v, rho,a 를 마킹합니다.",
  "color": "default",
  "labels": [
    "898f43eb-c79c-4781-9c09-9e88a458c8c7",
    "d72f8ac6-ce94-4e53-83db-d973682fff0f"
  ],
  "pinned": false,
  "archived": true,
  "inTrash": false,
  "reminder": null,
  "createdAt": "2022-10-26T09:45:20.191000",
  "updatedAt": "2023-04-28T08:46:37.021000"
}